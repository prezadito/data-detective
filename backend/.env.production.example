# Production Environment Variables Template
# Copy this file to .env.production and fill in your actual production values
# WARNING: NEVER commit .env.production to version control!

# ============================================================================
# SECURITY - REQUIRED
# ============================================================================

# JWT Secret Key (REQUIRED - MUST be unique and secret)
# Generate with: openssl rand -hex 32
# IMPORTANT: Use a different key than development and staging
SECRET_KEY=your-production-secret-key-here-64-characters-minimum

# JWT Algorithm (recommended: HS256)
ALGORITHM=HS256

# Access token expiration (in minutes)
# Recommended: 30 minutes for security
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Refresh token expiration (in days)
# Recommended: 7 days
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password reset token expiration (in hours)
# Recommended: 1 hour
PASSWORD_RESET_TOKEN_EXPIRE_HOURS=1

# ============================================================================
# DATABASE - REQUIRED
# ============================================================================

# PostgreSQL Connection String (REQUIRED for production)
# Format: postgresql://username:password@hostname:port/database_name
# With SSL: postgresql://username:password@hostname:port/database_name?sslmode=require
#
# Examples:
# - AWS RDS: postgresql://admin:SecurePass123@mydb.abc123.us-east-1.rds.amazonaws.com:5432/datadetective
# - Digital Ocean: postgresql://doadmin:SecurePass123@db-postgresql-nyc1-12345.ondigitalocean.com:25060/datadetective?sslmode=require
# - Supabase: postgresql://postgres:SecurePass123@db.abcdefghijk.supabase.co:5432/postgres
# - Self-hosted: postgresql://datadetective:SecurePass123@db.example.com:5432/datadetective_prod?sslmode=require
DATABASE_URL=postgresql://username:password@hostname:port/database_name

# Log all SQL queries to console (set to False in production)
DB_ECHO=False

# PostgreSQL Connection Pool Settings
# DB_POOL_SIZE: Number of persistent connections
#   - Small apps (< 100 users): 5
#   - Medium apps (100-500 users): 10
#   - Large apps (500+ users): 20
DB_POOL_SIZE=10

# DB_MAX_OVERFLOW: Additional connections when pool is exhausted
# Total max connections = DB_POOL_SIZE + DB_MAX_OVERFLOW
DB_MAX_OVERFLOW=20

# ============================================================================
# APPLICATION - REQUIRED
# ============================================================================

# Environment name (production, staging, development)
ENVIRONMENT=production

# Debug mode - MUST be False in production!
# Setting to True exposes sensitive error information
DEBUG=False

# CORS Allowed Origins (REQUIRED - comma-separated list)
# Only list your production frontend domains
# Include both www and non-www if needed
# NO trailing slashes, NO wildcards
#
# Examples:
# - Single domain: https://datadetective.academy
# - Multiple domains: https://datadetective.academy,https://www.datadetective.academy
# - Custom domain: https://app.example.com,https://example.com
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Frontend URL (for email links, redirects, etc.)
# Use your primary frontend domain
FRONTEND_URL=https://yourdomain.com

# ============================================================================
# ANALYTICS - OPTIONAL
# ============================================================================

# Enable analytics tracking (true/false)
ANALYTICS_ENABLED=false

# Analytics Provider: 'plausible' or 'google'
# Plausible is recommended for privacy-friendly, GDPR-compliant tracking
# Google Analytics requires cookie consent banner
ANALYTICS_PROVIDER=plausible

# Your domain name (for analytics tracking)
# Example: datadetective.academy
ANALYTICS_DOMAIN=yourdomain.com

# Plausible Analytics Script URL
# - Plausible Cloud: https://plausible.io/js/script.js
# - Self-hosted: https://analytics.yourdomain.com/js/script.js
ANALYTICS_SCRIPT_URL=https://plausible.io/js/script.js

# Google Analytics 4 Measurement ID (only needed if ANALYTICS_PROVIDER=google)
# Format: G-XXXXXXXXXX
# Get from: https://analytics.google.com/
ANALYTICS_ID=

# ============================================================================
# MONITORING & LOGGING - OPTIONAL
# ============================================================================

# Logging Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# Recommended for production: WARNING or ERROR
LOG_LEVEL=WARNING

# Sentry Error Tracking DSN (optional but recommended)
# Sign up at: https://sentry.io/
# Format: https://abc123@o123456.ingest.sentry.io/123456
SENTRY_DSN=

# ============================================================================
# ADDITIONAL SETTINGS
# ============================================================================

# Email Configuration (if implementing email features in future)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@yourdomain.com

# Redis Cache (if implementing Redis caching in future)
# REDIS_URL=redis://localhost:6379/0

# ============================================================================
# DEPLOYMENT NOTES
# ============================================================================

# 1. Generate SECRET_KEY:
#    openssl rand -hex 32
#
# 2. Create PostgreSQL database and user:
#    CREATE DATABASE datadetective_prod;
#    CREATE USER datadetective WITH PASSWORD 'secure_password';
#    GRANT ALL PRIVILEGES ON DATABASE datadetective_prod TO datadetective;
#
# 3. Set ALLOWED_ORIGINS to your actual frontend domain(s)
#
# 4. Ensure DEBUG=False and DB_ECHO=False
#
# 5. Set appropriate DB_POOL_SIZE based on expected load
#
# 6. Protect this file with proper permissions:
#    chmod 600 .env.production
#
# 7. NEVER commit .env.production to version control!
#
# See docs/ENV_VARIABLES.md for complete documentation
